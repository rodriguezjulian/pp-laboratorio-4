import{b as O,d as W,f as j,p as F}from"./chunk-HSNBW5DZ.js";import{a as N}from"./chunk-K7W4VTHS.js";import{Aa as U,B as l,Ba as T,C as m,G as w,I as x,K as r,L as o,O as d,P,R as a,S as M,U as b,V as v,W as C,Y as S,a as _,e as u,ha as k,ja as A,l as E,o as h,oa as I,q as y,sa as p,ua as D,wa as g,xa as L,ya as R}from"./chunk-7GPC4YN3.js";var f=class s{constructor(e,t){this.firestoreService=e;this.auth=t;this.auth.languageCode="es"}createUser(e,t,i){return u(this,null,function*(){try{let n=yield D(this.auth,t,i),c=yield this.firestoreService.createDocument("usuarios",_({},e),n.user.uid);return console.log("Cliente agregado a Firestore con ID:",c),n}catch(n){throw console.error("Error al crear usuario o agregarlo a Firestore:",n),n}})}getCurrentUser(){return this.auth.currentUser}login(e,t){return u(this,null,function*(){return g(this.auth,e,t)})}logout(e=!0){return u(this,null,function*(){yield L(this.auth)})}static \u0275fac=function(t){return new(t||s)(h(N),h(p))};static \u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"})};function q(s,e){if(s&1&&(r(0,"div",19)(1,"strong")(2,"label",20),a(3),o()()()),s&2){let t=P();l(3),M(t.msjError)}}var B=class s{constructor(e,t,i,n){this.router=e;this.firestore=t;this.auth=i;this.auths=n}email="";userPWD="";userActive="";loginsCollection=[];countLogins=0;sub;msjError="";Login(){g(this.auth,this.email,this.userPWD).then(e=>{this.GuardarRegistroExitoso(),this.Home()}).catch(e=>{switch(e.code){case"auth/invalid-credential":this.msjError="Email o contrase\xF1a incorrectos";break;case"auth/invalid-email":this.msjError="EMAIL INCORRECTO.";break;default:this.msjError="ERROR al ingresar sesion, verifique datos ingresados.";break}})}GuardarRegistroExitoso(){let e=T(this.firestore,"logins");U(e,{fecha:new Date,user:this.email})}Home(){this.router.navigate(["/home"])}AutoCompletado(){this.email="julian.rodriguez@gmail.com",this.userPWD="12345678"}Auto(){this.email="empleado@string.com",this.userPWD="12345678"}static \u0275fac=function(t){return new(t||s)(m(I),m(R),m(p),m(f))};static \u0275cmp=y({type:s,selectors:[["app-login"]],standalone:!0,features:[S],decls:28,vars:3,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","custom-card","text-white","text-center"],[1,"p-3","text-center","title-text"],[1,"card-body","p-5"],[1,"mb-md-5","mt-md-4","pb-4"],[1,"fw-bold","mb-3","text-uppercase"],[1,"subtitle-text","mb-4"],[1,"form-outline","form-white","mb-4"],["for","typeEmailX",1,"form-label"],["type","email","id","typeEmailX",1,"form-control","form-control-lg","custom-input",3,"ngModelChange","ngModel"],["for","typePasswordX",1,"form-label"],["type","password","id","typePasswordX",1,"form-control","form-control-lg","custom-input",3,"ngModelChange","ngModel"],[1,"btn","custom-btn","mb-3",2,"background-color","#e91e63",3,"click"],[1,"btn","custom-btn","mb-3",2,"background-color","#4caf50",3,"click"],[1,"btn","custom-btn","mb-3",2,"background-color","#03a9f4",3,"click"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"form-label",2,"color","#ff5252"]],template:function(t,i){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),a(6,"JULIAN RODRIGUEZ"),o(),r(7,"div",6)(8,"div",7)(9,"h2",8),a(10,"Bienvenido"),o(),r(11,"p",9),a(12,"Por favor ingrese sus credenciales"),o(),r(13,"div",10)(14,"label",11),a(15,"Email"),o(),r(16,"input",12),C("ngModelChange",function(c){return v(i.email,c)||(i.email=c),c}),o()(),r(17,"div",10)(18,"label",13),a(19,"Contrase\xF1a"),o(),r(20,"input",14),C("ngModelChange",function(c){return v(i.userPWD,c)||(i.userPWD=c),c}),o()(),r(21,"button",15),d("click",function(){return i.AutoCompletado()}),a(22,"Autocompletar Admin"),o(),r(23,"button",16),d("click",function(){return i.Auto()}),a(24,"Autocompletar Empleado"),o(),r(25,"button",17),d("click",function(){return i.Login()}),a(26,"Ingresar"),o(),w(27,q,4,1,"div",18),o()()()()()()()),t&2&&(l(16),b("ngModel",i.email),l(4),b("ngModel",i.userPWD),l(7),x("ngIf",i.msjError!==""))},dependencies:[F,O,W,j,A,k],styles:[".gradient-custom[_ngcontent-%COMP%]{background:#00c9a7;background:-webkit-linear-gradient(to right,rgba(0,201,167,1),rgba(0,132,255,1));background:linear-gradient(to right,#00c9a7,#0084ff)}.custom-card[_ngcontent-%COMP%]{background-color:#000c;border-radius:1rem;padding:20px;box-shadow:0 4px 15px #0006}.title-text[_ngcontent-%COMP%]{font-size:1.8rem;color:gold}.subtitle-text[_ngcontent-%COMP%]{color:#b0bec5;font-size:1rem}.custom-input[_ngcontent-%COMP%]{background-color:#ffffff1a;border:1px solid #4caf50;color:#fff;padding:15px;border-radius:.5rem}.custom-input[_ngcontent-%COMP%]::placeholder{color:#b0bec5}.custom-btn[_ngcontent-%COMP%]{width:100%;padding:10px;color:#fff;font-weight:700;border-radius:5px;transition:background-color .3s ease}.custom-btn[_ngcontent-%COMP%]:hover{opacity:.9}.card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-transform:uppercase}"]})};export{B as LoginComponent};
