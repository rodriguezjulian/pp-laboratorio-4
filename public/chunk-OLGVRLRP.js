import{a as K}from"./chunk-ZL5ANUAO.js";import{c as k}from"./chunk-NHZQKUB3.js";import"./chunk-KOWSTYMA.js";import{a as X}from"./chunk-JPN35WCD.js";import{a as L,b as s,c as B,d as $,f as G,g as R,h as z,i as U,m as Z,n as H,p as J}from"./chunk-RTGSENQE.js";import{f as j}from"./chunk-UDCWHXKS.js";import{Ea as p,Ga as m,Ia as n,Ja as e,Ka as u,La as O,Ma as v,Na as C,Oa as M,Pa as a,Qa as S,Wa as h,Y as _,a as P,b as V,d as W,e as A,fa as w,ga as D,ka as N,ob as q,pb as T,rb as x,ta as y,va as l,wa as f}from"./chunk-HR6EH2NC.js";function ie(r,t){if(r&1){let i=O();n(0,"li",3),v("click",function(){let d=w(i).$implicit,c=C();return D(c.seleccionarPais(d))}),n(1,"span"),a(2),e(),u(3,"img",4),e()}if(r&2){let i=t.$implicit;l(2),S(i.name.common),l(),M("alt","",i.name.common," Flag"),m("src",i.flags.svg,y)}}var F=class r{constructor(t){this.countryService=t}paises=[];paisSeleccionado=new N;ngOnInit(){this.countryService.obtenerPaises(["Americas","Asia"]).subscribe(t=>{this.paises=t.slice(0,3)})}seleccionarPais(t){this.paisSeleccionado.emit(t)}static \u0275fac=function(i){return new(i||r)(f(K))};static \u0275cmp=_({type:r,selectors:[["app-lista-paises"]],outputs:{paisSeleccionado:"paisSeleccionado"},standalone:!0,features:[h],decls:5,vars:1,consts:[[1,"container"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"click"],["width","40","height","25",3,"src","alt"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"h3"),a(2,"Lista de Pa\xEDses"),e(),n(3,"ul",1),p(4,ie,4,4,"li",2),e()()),i&2&&(l(4),m("ngForOf",o.paises))},dependencies:[x,q]})};var E=W(X());function ne(r,t){r&1&&(n(0,"div",21),a(1," Nombre es requerido y solo debe contener letras. "),e())}function re(r,t){r&1&&(n(0,"div",21),a(1," DNI es requerido y debe tener 8 caracteres num\xE9ricos. "),e())}function oe(r,t){r&1&&(n(0,"div",21),a(1," Edad es requerida y debe estar entre 21 y 65. "),e())}function ae(r,t){r&1&&(n(0,"div",21),a(1," Matr\xEDcula es requerida y debe contener al menos 6 caracteres num\xE9ricos. "),e())}function le(r,t){if(r&1&&u(0,"img",22),r&2){let i=C();m("src",i.selectedCountryFlag,y)}}var Q=class r{constructor(t,i,o){this.fb=t;this.router=i;this.firestoreService=o;this.veterinarioForm=this.fb.group({nombre:["",[s.required,s.pattern(/^[a-zA-Z\s]+$/)]],dni:["",[s.required,s.pattern(/^\d{8}$/)]],edad:["",[s.required,s.min(21),s.max(65)]],matricula:["",[s.required,s.minLength(6),s.pattern(/^\d+$/)]],atiendeDomicilio:[!1],nacionalidad:["",s.required]})}veterinarioForm;selectedCountryFlag;ngOnInit(){}atras(){this.router.navigate(["/home"])}recibirPaisSeleccionado(t){this.veterinarioForm.patchValue({nacionalidad:t.name.common}),this.selectedCountryFlag=t.flags.svg}onSubmit(){return A(this,null,function*(){if(this.veterinarioForm.valid){let t=V(P({},this.veterinarioForm.value),{bandera:this.selectedCountryFlag});try{let i=yield this.firestoreService.createDocument("veterinarios",t);console.log(`Veterinario creado con \xE9xito, ID: ${i}`),E.default.fire({icon:"success",title:"Veterinario Creado",text:`El veterinario ${t.nombre} ha sido creado exitosamente.`,confirmButtonText:"Aceptar"})}catch(i){console.error("Error al crear el veterinario:",i),E.default.fire({icon:"error",title:"Error",text:"Ocurri\xF3 un error al crear el veterinario. Por favor, intenta nuevamente.",confirmButtonText:"Aceptar"})}}})}static \u0275fac=function(i){return new(i||r)(f(H),f(k),f(j))};static \u0275cmp=_({type:r,selectors:[["app-alta-veterinario"]],standalone:!0,features:[h],decls:38,vars:8,consts:[[1,"gradient-custom","vh-100","d-flex","align-items-center","justify-content-center"],[1,"container","my-5"],[1,"mb-3"],[3,"paisSeleccionado"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],[1,"col-12"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","matricula",1,"form-label"],["type","text","id","matricula","formControlName","matricula","required","",1,"form-control"],[1,"mt-3"],["alt","Bandera del Pa\xEDs","width","50","height","30",3,"src",4,"ngIf"],["type","submit",1,"w-100","btn","btn-primary","btn-lg","mt-3",3,"disabled"],[1,"w-100","btn","btn-secondary","btn-lg","mt-3",3,"click"],[1,"text-danger"],["alt","Bandera del Pa\xEDs","width","50","height","30",3,"src"]],template:function(i,o){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"main")(3,"h4",2),a(4,"Alta de Veterinario"),e(),n(5,"app-lista-paises",3),v("paisSeleccionado",function(c){return o.recibirPaisSeleccionado(c)}),e(),n(6,"form",4),v("ngSubmit",function(){return o.onSubmit()}),n(7,"div",5)(8,"div",6)(9,"label",7),a(10,"Nombre"),e(),u(11,"input",8),p(12,ne,2,0,"div",9),e(),n(13,"div",6)(14,"label",10),a(15,"DNI"),e(),u(16,"input",11),p(17,re,2,0,"div",9),e()(),n(18,"div",12)(19,"label",13),a(20,"Edad"),e(),u(21,"input",14),p(22,oe,2,0,"div",9),e(),n(23,"div",12)(24,"label",15),a(25,"Matr\xEDcula"),e(),u(26,"input",16),p(27,ae,2,0,"div",9),e(),n(28,"div",17)(29,"h5"),a(30,"Pa\xEDs Seleccionado:"),e(),n(31,"p"),a(32),e(),p(33,le,1,1,"img",18),e(),n(34,"button",19),a(35,"Dar de Alta"),e()(),n(36,"button",20),v("click",function(){return o.atras()}),a(37,"Atr\xE1s"),e()()()()),i&2){let d,c,g,b,I;l(6),m("formGroup",o.veterinarioForm),l(6),m("ngIf",((d=o.veterinarioForm.get("nombre"))==null?null:d.invalid)&&((d=o.veterinarioForm.get("nombre"))==null?null:d.touched)),l(5),m("ngIf",((c=o.veterinarioForm.get("dni"))==null?null:c.invalid)&&((c=o.veterinarioForm.get("dni"))==null?null:c.touched)),l(5),m("ngIf",((g=o.veterinarioForm.get("edad"))==null?null:g.invalid)&&((g=o.veterinarioForm.get("edad"))==null?null:g.touched)),l(5),m("ngIf",((b=o.veterinarioForm.get("matricula"))==null?null:b.invalid)&&((b=o.veterinarioForm.get("matricula"))==null?null:b.touched)),l(5),S((I=o.veterinarioForm.get("nacionalidad"))==null?null:I.value),l(),m("ngIf",o.selectedCountryFlag),l(),m("disabled",o.veterinarioForm.invalid)}},dependencies:[J,G,L,R,B,$,Z,z,U,F,x,T],styles:[".gradient-custom[_ngcontent-%COMP%]{background:-webkit-linear-gradient(to right,yellow,grey);background:linear-gradient(to right,#ff0,gray);min-height:100vh;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{max-width:960px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.text-danger[_ngcontent-%COMP%]{font-size:.9rem}.mt-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #ddd;padding:2px;border-radius:4px}"]})};export{Q as AltaVeterinarioComponent};
